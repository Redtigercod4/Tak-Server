"use strict";(self.webpackChunkdocusaurus_static=self.webpackChunkdocusaurus_static||[]).push([[8954],{9215:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var n=s(5893),r=s(1151);const i={},a="Configure TAK Server Installation",o={id:"installation/oneserver/takserverconfiguration",title:"Configure TAK Server Installation",description:"On resource limited hosts, such as a Raspberry Pi, you may start/stop only essential api and messaging TAK Server services with:",source:"@site/docs/installation/oneserver/takserverconfiguration.md",sourceDirName:"installation/oneserver",slug:"/installation/oneserver/takserverconfiguration",permalink:"/docs/installation/oneserver/takserverconfiguration",draft:!1,unlisted:!1,editUrl:"https://gitlab.com/octospacc/editocttrialTools/-/blob/main/docusaurus-static/docs/installation/oneserver/takserverconfiguration.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"TAK Server Installation",permalink:"/docs/installation/oneserver/takserverinstallation"},next:{title:"Overview",permalink:"/docs/installation/twoserver/overview"}},c={},l=[];function d(e){const t={code:"code",em:"em",h1:"h1",img:"img",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"configure-tak-server-installation",children:"Configure TAK Server Installation"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"sudo systemctl daemon-reload\n"})}),"\n",(0,n.jsx)(t.p,{children:"On resource limited hosts, such as a Raspberry Pi, you may start/stop only essential api and messaging TAK Server services with:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"sudo systemctl [start|stop] takserver-noplugins\n"})}),"\n",(0,n.jsx)(t.p,{children:"Otherwise, to start/stop all TAK Server service:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"sudo systemctl [start|stop] takserver\n"})}),"\n",(0,n.jsx)(t.p,{children:"You can set TAK Server to start at boot by running"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"sudo systemctl enable takserver\n"})}),"\n",(0,n.jsx)(t.p,{children:"or with resource limited hosts:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"sudo systemctl enable takserver-noplugins\n"})}),"\n",(0,n.jsx)(t.p,{children:"For secure operation, TAK Server requires a keystore and truststore (X.509 certificates)."}),"\n",(0,n.jsx)(t.p,{children:"Next, follow the instructions in Appendix B to create these certificates. TAK Server by default is TLS only, so certificate generation, including an administrative certificate is required for configuration. In addition, if you would like to configure TLS for Postgres database connection, follow additional steps in Appendix D."}),"\n",(0,n.jsx)(t.p,{children:"Verify that the steps in Appendix B have been followed by checking the following items:"}),"\n",(0,n.jsx)(t.p,{children:"Certificates are present at:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"/opt/tak/certs/files\n"})}),"\n",(0,n.jsx)(t.p,{children:"The TAK Server was restarted, the admin cert has been generated, and an admin account in TAK Server was created with the command:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"sudo java -jar /opt/tak/utils/UserManager.jar certmod -A /opt/tak/certs/files/admin.pem\n"})}),"\n",(0,n.jsx)(t.p,{children:"While following the instructions in Appendix B, you will have created an admin certificate. Import this certificate into your browser, so that you can access the Admin. It will be located here on your TAK Server machine:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"/opt/tak/certs/files/admin.pem\n"})}),"\n",(0,n.jsx)(t.p,{children:"Import this client certificate into your browser."}),"\n",(0,n.jsxs)(t.p,{children:["If you are using Firefox, go to ",(0,n.jsx)(t.em,{children:"Settings -> Preferences -> Privacy & Security -> Certificates -> View Certificates"})]}),"\n",(0,n.jsx)(t.p,{children:"Go to Import. Upload this file:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"/opt/tak/certs/files/admin.p12\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Enter the certificate password. The default password is ",(0,n.jsx)(t.code,{children:"atakatak"})]}),"\n",(0,n.jsx)(t.p,{children:"Browse to:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"https://localhost:8443\n"})}),"\n",(0,n.jsx)(t.p,{children:"Select the admin certificate to log in."}),"\n",(0,n.jsx)(t.p,{children:"An error message similar to this indicates that the correct client certificate has not been imported into the browser:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Example Incorrect Client Certificate Error Message",src:s(1164).Z+"",width:"960",height:"460"})})]})}function h(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},1164:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"assets/images/secure_connection_failed-56cfeb544f1c53afe1d119d408897cd4.png"},1151:(e,t,s)=>{s.d(t,{Z:()=>o,a:()=>a});var n=s(7294);const r={},i=n.createContext(r);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);