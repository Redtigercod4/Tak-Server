"use strict";(self.webpackChunkdocusaurus_static=self.webpackChunkdocusaurus_static||[]).push([[6129],{4848:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>l,toc:()=>d});var r=n(5893),a=n(1151);const t={},o="Install TAK Server",l={id:"installation/twoserver/servertwo/installtakserver",title:"Install TAK Server",description:"Rocky Linux 8",source:"@site/docs/installation/twoserver/servertwo/installtakserver.md",sourceDirName:"installation/twoserver/servertwo",slug:"/installation/twoserver/servertwo/installtakserver",permalink:"/docs/installation/twoserver/servertwo/installtakserver",draft:!1,unlisted:!1,editUrl:"https://gitlab.com/octospacc/editocttrialTools/-/blob/main/docusaurus-static/docs/installation/twoserver/servertwo/installtakserver.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Prerequisites",permalink:"/docs/installation/twoserver/servertwo/prerequisites"},next:{title:"Configuration",permalink:"/docs/installation/twoserver/servertwo/configuretakserver"}},i={},d=[{value:"Rocky Linux 8",id:"rocky-linux-8",level:2},{value:"RHEL 8",id:"rhel-8",level:2},{value:"RHEL 7",id:"rhel-7",level:2},{value:"Ubuntu &amp; Raspberry Pi OS",id:"ubuntu--raspberry-pi-os",level:2},{value:"CentOS 7",id:"centos-7",level:2},{value:"yum install From tak.gov",id:"yum-install-from-takgov",level:2}];function c(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"install-tak-server",children:"Install TAK Server"}),"\n",(0,r.jsx)(s.h2,{id:"rocky-linux-8",children:"Rocky Linux 8"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo dnf install java-17-openjdk-devel -y\nsudo dnf install takserver-core-5.2-RELEASEx.noarch.rpm -y\nsudo dnf install checkpolicy\ncd /opt/tak && sudo ./apply-selinux.sh && sudo semodule -l | grep takserver\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Check Java version"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"java -version\n"})}),"\n",(0,r.jsx)(s.p,{children:'This should tell you you have 17.x.y. If the "java -version" command tells you your Java version is not 17.x.y, then you can use the alternatives command to change it:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo alternatives --config java\n"})}),"\n",(0,r.jsx)(s.h2,{id:"rhel-8",children:"RHEL 8"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo dnf update -y && sudo dnf install java-17-openjdk-devel -y\nsudo dnf install takserver-core-5.2-RELEASEx.noarch.rpm -y\nsudo dnf install checkpolicy\ncd /opt/tak && sudo ./apply-selinux.sh && sudo semodule -l | grep takserver\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Check Java version"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"java -version\n"})}),"\n",(0,r.jsx)(s.p,{children:'This should tell you you have 17.x.y. If the "java -version" command tells you your Java version is not 17.x.y, then you can use the alternatives command to change it:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo alternatives --config java\n"})}),"\n",(0,r.jsx)(s.h2,{id:"rhel-7",children:"RHEL 7"}),"\n",(0,r.jsx)(s.p,{children:"Install EPEL (EPEL provides certain dependencies required by PostgreSQL.) Install postgres yum repository (required in order to install up-to-date Postgresql and PostGIS packages.) Install OpenJDK 17 and other dependencies. Install Tak server."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.strong,{children:["Note that when installing postgres, you may run into issues related to the GPG key \u2013 if you need to update the key, you can modify the postgres installation command based on your operating system according to the guidelines here: ",(0,r.jsx)(s.a,{href:"https://yum.postgresql.org/news/pgdg-rpm-repo-gpg-key-update/",children:"https://yum.postgresql.org/news/pgdg-rpm-repo-gpg-key-update/"})]})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm -y\nsudo yum install https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm -y\nsudo yum install -y postgis33_15 postgis33_15-utils\nsudo yum install -y postgresql15-server postgresql15-contrib\nsudo yum install -y https://download.oracle.com/java/17/latest/jdk-17_linuxx64_bin.rpm\nsudo rpm -ivh takserver-core-5.2-RELEASEx.noarch.rpm --nodeps\n"})}),"\n",(0,r.jsx)(s.p,{children:"Note that the yum package manager does not currently support JDK 17 on RHEL 7. By installing the package manually, you will be responsible for future security updates. For a safer long-term solution, we recommend that you update your OS to RHEL 8 or Rocky Linux 8."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Check Java version"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"java -version\n"})}),"\n",(0,r.jsx)(s.p,{children:'This should tell you you have 17.x.y. If the "java -version" command tells you your Java version is not 17.x.y, then you can use the alternatives command to change it:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo alternatives --config java\n"})}),"\n",(0,r.jsx)(s.h2,{id:"ubuntu--raspberry-pi-os",children:"Ubuntu & Raspberry Pi OS"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo apt install takserver-core-5.2-RELEASEx_all.deb\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Check Java version"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"java -version\n"})}),"\n",(0,r.jsx)(s.p,{children:'This should tell you you have 17.x.y. If the "java -version" command tells you your Java version is not 17.x.y, then you can use the alternatives command to change it:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo alternatives --config java\n"})}),"\n",(0,r.jsx)(s.h2,{id:"centos-7",children:"CentOS 7"}),"\n",(0,r.jsx)(s.p,{children:"Install EPEL (EPEL provides certain dependencies required by PostgreSQL.) Install postgres yum repository (required in order to install up-to-date Postgresql and PostGIS packages.) Install OpenJDK 17 and other dependencies. Install Tak server."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.strong,{children:["Note that when installing postgres, you may run into issues related to the GPG key \u2013 if you need to update the key, you can modify the postgres installation command based on your operating system according to the guidelines here: ",(0,r.jsx)(s.a,{href:"https://yum.postgresql.org/news/pgdg-rpm-repo-gpg-key-update/",children:"https://yum.postgresql.org/news/pgdg-rpm-repo-gpg-key-update/"})]})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo yum install epel-release -y\nsudo yum install https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm -y\nsudo yum install -y postgis33_15 postgis33_15-utils\nsudo yum install -y postgresql15-server postgresql15-contrib\nsudo yum install -y https://download.oracle.com/java/17/latest/jdk-17_linuxx64_bin.rpm\nsudo rpm -ivh takserver-core-5.2-RELEASEx.noarch.rpm --nodeps\n"})}),"\n",(0,r.jsx)(s.p,{children:"Note that the yum package manager does not currently support JDK 17 on Centos 7. By installing the package manually, you will be responsible for future security updates. For a safer long-term solution, we recommend that you update your OS to RHEL 8 or Rocky Linux 8."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Check Java version"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"java -version\n"})}),"\n",(0,r.jsx)(s.p,{children:'This should tell you you have 17.x.y. If the "java -version" command tells you your Java version is not 17.x.y, then you can use the alternatives command to change it:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo alternatives --config java\n"})}),"\n",(0,r.jsx)(s.h2,{id:"yum-install-from-takgov",children:"yum install From tak.gov"}),"\n",(0,r.jsx)(s.p,{children:"Check to see if a .repo file exists for tak.gov"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ls /etc/yum.repos.d/Takserver.repo\n"})}),"\n",(0,r.jsx)(s.p,{children:"If it exists, skip down to the yum install of takserver database.  If it doesn't exist, create a new .repo file to point yum to the yum repo on tak.gov."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cd /etc/yum.repos.d\nsudo vi Takserver.repo\n"})}),"\n",(0,r.jsx)(s.p,{children:"You can also edit using another editor besides vi. Update the file Takserver.repo to contain:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"[takrepo]\nname=TakserverRepository\nbaseurl=https://<ARTIFACTORY_USER>:<ARTIFACTORY_TOKEN>@artifacts.tak.gov/artifactory/takserver-yum\nenabled=1\ngpgcheck=0\n"})}),"\n",(0,r.jsx)(s.p,{children:'Where <ARTIFACTORY_USER> is a valid login to Artifactory that has access to the takserver-yum repo and <ARTIFACTORY_TOKEN> is a special token unique to the given Artifactory user that can be retrieved by that user using the "Set Me Up" menu option to retrieve it.'}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Note: Do NOT use your password as it the Token is more secure and cannot be used for logging in. Only for retrieving or publishing."})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Also note:  When you change the password of the given user, you will also need to retrieve the new token which is based on it and update the baseurl in the Takserver.repo file."})}),"\n",(0,r.jsx)(s.p,{children:"Save the Takserver.repo file and then do the install of the takserver."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo yum install takserver-core-5.2-RELEASEx\n"})})]})}function u(e={}){const{wrapper:s}={...(0,a.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},1151:(e,s,n)=>{n.d(s,{Z:()=>l,a:()=>o});var r=n(7294);const a={},t=r.createContext(a);function o(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);