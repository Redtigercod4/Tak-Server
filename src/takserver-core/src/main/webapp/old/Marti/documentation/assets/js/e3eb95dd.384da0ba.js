"use strict";(self.webpackChunkdocusaurus_static=self.webpackChunkdocusaurus_static||[]).push([[2372],{3124:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>l,frontMatter:()=>o,metadata:()=>a,toc:()=>u});var i=n(5893),r=n(1151);const o={},s="Group Assignment using Client Certificates",a={id:"configuration/groupassignmentusingclientcerts",title:"Group Assignment using Client Certificates",description:"TAK Server can be configured to use only the information contained in a client certificate, when looking up group membership for a user. In this case, the TAK client is configured to use TLS and a client certificate when connecting to TAK server, but does not send an authentication message. This eliminates the requirement to cache credentials on the device, or enter credentials prior to establishment of each new connection. TAK Server will then filter messages according to common group membership, in a similar fashion to input-level filtering with filter groups. When analyzing the X.509 client certificate presented by the TAK client, TAK Server will look at the DN attribute in the certificate, extract the CN value from the DN (if present). The CN is regarded as the username, and is used to look up group membership in authentication backends. For example, consider this DN in a client certificate:",source:"@site/docs/configuration/groupassignmentusingclientcerts.md",sourceDirName:"configuration",slug:"/configuration/groupassignmentusingclientcerts",permalink:"/docs/configuration/groupassignmentusingclientcerts",draft:!1,unlisted:!1,editUrl:"https://gitlab.com/octospacc/editocttrialTools/-/blob/main/docusaurus-static/docs/configuration/groupassignmentusingclientcerts.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Group Assignment Using Authentication Messages",permalink:"/docs/configuration/groupassignmentusingauth"},next:{title:"Authentication Backends",permalink:"/docs/configuration/authenticationbackends"}},c={},u=[];function h(e){const t={code:"code",h1:"h1",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"group-assignment-using-client-certificates",children:"Group Assignment using Client Certificates"}),"\n",(0,i.jsx)(t.p,{children:"TAK Server can be configured to use only the information contained in a client certificate, when looking up group membership for a user. In this case, the TAK client is configured to use TLS and a client certificate when connecting to TAK server, but does not send an authentication message. This eliminates the requirement to cache credentials on the device, or enter credentials prior to establishment of each new connection. TAK Server will then filter messages according to common group membership, in a similar fashion to input-level filtering with filter groups. When analyzing the X.509 client certificate presented by the TAK client, TAK Server will look at the DN attribute in the certificate, extract the CN value from the DN (if present). The CN is regarded as the username, and is used to look up group membership in authentication backends. For example, consider this DN in a client certificate:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"CN=jkirk, O=TAK, C=US\n"})}),"\n",(0,i.jsx)(t.p,{children:"The CN value jkirk will be used as the username. The process for deciding which authentication backend to use depends on whether or not an Active Directory (AD) LDAP configuration is present in CoreConfig.xml. Valid service account credentials must be configured in CoreConfig.. If AD authentication is configured, the user account is matched by the sAMAccountName LDAP attribute. At client authentication time, if groups are found in AD for the user, those groups are used by TAK Server. If no groups are found, the flat-file authentication backend is searched for a match on the username. If no groups are found for the user in either repository, the user is assigned to the __ANON__ group."}),"\n",(0,i.jsx)(t.p,{children:"When configuring the input, a TLS input with an auth type of x509 directs TAK Server to use the client certificate for both authentication and group assignment. On the input configuration, the on or example, this input definition specifies streaming TCP encrypted with TLS, authenticating the user with a client certificate and also requiring an authentication message, and using the LDAP authentication backend:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:'  <input _name="ldapssl" protocol="tls" port="8091" auth="x509"/>\n'})})]})}function l(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>s});var i=n(7294);const r={},o=i.createContext(r);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);